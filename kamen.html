<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .choices {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        .choice-btn {
            padding: 15px 30px;
            font-size: 1.2em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            background: #4CAF50;
            color: white;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .choice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .choice-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .rock { background: linear-gradient(45deg, #FF6B6B, #FF8E53); }
        .paper { background: linear-gradient(45deg, #4ECDC4, #44A08D); }
        .scissors { background: linear-gradient(45deg, #FFD93D, #FF9F1A); }
        
        .result {
            text-align: center;
            font-size: 1.5em;
            margin: 20px 0;
            min-height: 60px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            width: 100%;
        }
        
        .timer {
            font-size: 1.2em;
            color: #FFD93D;
            font-weight: bold;
            text-align: center;
            margin: 15px 0;
        }
        
        .score {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin: 20px 0;
        }
        
        .score-box {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            width: 30%;
        }
        
        .score-box h3 {
            margin-bottom: 10px;
            color: #FFD93D;
        }
        
        .score-number {
            font-size: 2em;
            font-weight: bold;
        }
        
        .leaderboard {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .leaderboard h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #FFD93D;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        th {
            background: rgba(255, 255, 255, 0.2);
            font-weight: bold;
        }
        
        tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .player-you {
            background: rgba(76, 175, 80, 0.2);
            font-weight: bold;
        }
        
        .emoji {
            font-size: 1.5em;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            
            .choices {
                flex-direction: column;
                width: 100%;
            }
            
            .choice-btn {
                width: 100%;
            }
            
            .score {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            
            .score-box {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÆ –ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞</h1>
        
        <div class="game-area">
            <div class="score">
                <div class="score-box">
                    <h3>–í–∞—à–∏ –ø–æ–±–µ–¥—ã</h3>
                    <div class="score-number" id="wins">0</div>
                </div>
                <div class="score-box">
                    <h3>–ù–∏—á—å–∏</h3>
                    <div class="score-number" id="draws">0</div>
                </div>
                <div class="score-box">
                    <h3>–ü–æ—Ä–∞–∂–µ–Ω–∏—è</h3>
                    <div class="score-number" id="losses">0</div>
                </div>
            </div>
            
            <div class="choices">
                <button class="choice-btn rock" onclick="playGame('rock')" id="rockBtn">
                    ‚úä –ö–∞–º–µ–Ω—å
                </button>
                <button class="choice-btn paper" onclick="playGame('paper')" id="paperBtn">
                    ‚úã –ë—É–º–∞–≥–∞
                </button>
                <button class="choice-btn scissors" onclick="playGame('scissors')" id="scissorsBtn">
                    ‚úåÔ∏è –ù–æ–∂–Ω–∏—Ü—ã
                </button>
            </div>
            
            <div class="result" id="result">
                –í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π —Ö–æ–¥!
            </div>
            
            <div class="timer" id="timer">
                –ú–æ–∂–Ω–æ –∏–≥—Ä–∞—Ç—å —Å–µ–π—á–∞—Å!
            </div>
        </div>
        
        <div class="leaderboard">
            <h2>üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h2>
            <table id="leaderboard">
                <thead>
                    <tr>
                        <th>–ú–µ—Å—Ç–æ</th>
                        <th>–ò–≥—Ä–æ–∫</th>
                        <th>–ü–æ–±–µ–¥</th>
                        <th>–ù–∏—á—å–∏—Ö</th>
                        <th>–ü–æ—Ä–∞–∂–µ–Ω–∏–π</th>
                        <th>–ü–æ—Å–ª–µ–¥–Ω—è—è –∏–≥—Ä–∞</th>
                    </tr>
                </thead>
                <tbody id="leaderboardBody">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
        let wins = 0;
        let draws = 0;
        let losses = 0;
        let canPlay = true;
        let lastPlayTime = null;
        const COOLDOWN_MINUTES = 40;
        let countdownInterval = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage
        function initGame() {
            wins = parseInt(localStorage.getItem('rps_wins')) || 0;
            draws = parseInt(localStorage.getItem('rps_draws')) || 0;
            losses = parseInt(localStorage.getItem('rps_losses')) || 0;
            lastPlayTime = localStorage.getItem('rps_lastPlay');
            
            updateScores();
            updateLeaderboard();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–Ω–æ –ª–∏ –∏–≥—Ä–∞—Ç—å
            if (lastPlayTime) {
                checkCooldown();
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –∏–≥—Ä—ã
        function playGame(playerChoice) {
            if (!canPlay) {
                return;
            }
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫–∏
            canPlay = false;
            document.getElementById('rockBtn').disabled = true;
            document.getElementById('paperBtn').disabled = true;
            document.getElementById('scissorsBtn').disabled = true;
            
            // –í—ã–±–æ—Ä –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
            const choices = ['rock', 'paper', 'scissors'];
            const computerChoice = choices[Math.floor(Math.random() * 3)];
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            let resultText = '';
            let resultEmoji = '';
            
            if (playerChoice === computerChoice) {
                draws++;
                resultText = '–ù–∏—á—å—è!';
                resultEmoji = 'ü§ù';
            } else if (
                (playerChoice === 'rock' && computerChoice === 'scissors') ||
                (playerChoice === 'paper' && computerChoice === 'rock') ||
                (playerChoice === 'scissors' && computerChoice === 'paper')
            ) {
                wins++;
                resultText = '–í—ã –ø–æ–±–µ–¥–∏–ª–∏!';
                resultEmoji = 'üéâ';
            } else {
                losses++;
                resultText = '–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏!';
                resultEmoji = 'üò¢';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            updateScores();
            document.getElementById('result').innerHTML = `
                –í—ã –≤—ã–±—Ä–∞–ª–∏: ${getChoiceEmoji(playerChoice)}<br>
                –ö–æ–º–ø—å—é—Ç–µ—Ä –≤—ã–±—Ä–∞–ª: ${getChoiceEmoji(computerChoice)}<br>
                <strong>${resultText} ${resultEmoji}</strong>
            `;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –∏–≥—Ä—ã
            lastPlayTime = new Date().toISOString();
            localStorage.setItem('rps_lastPlay', lastPlayTime);
            localStorage.setItem('rps_wins', wins);
            localStorage.setItem('rps_draws', draws);
            localStorage.setItem('rps_losses', losses);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É –ª–∏–¥–µ—Ä–æ–≤
            updateLeaderboard();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            startCooldownTimer();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–º–æ–¥–∑–∏
        function getChoiceEmoji(choice) {
            switch(choice) {
                case 'rock': return '‚úä –ö–∞–º–µ–Ω—å';
                case 'paper': return '‚úã –ë—É–º–∞–≥–∞';
                case 'scissors': return '‚úåÔ∏è –ù–æ–∂–Ω–∏—Ü—ã';
                default: return '';
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤
        function updateScores() {
            document.getElementById('wins').textContent = wins;
            document.getElementById('draws').textContent = draws;
            document.getElementById('losses').textContent = losses;
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞
        function checkCooldown() {
            if (!lastPlayTime) return;
            
            const now = new Date();
            const lastPlay = new Date(lastPlayTime);
            const diffMinutes = (now - lastPlay) / (1000 * 60);
            
            if (diffMinutes < COOLDOWN_MINUTES) {
                canPlay = false;
                document.getElementById('rockBtn').disabled = true;
                document.getElementById('paperBtn').disabled = true;
                document.getElementById('scissorsBtn').disabled = true;
                startCooldownTimer();
            }
        }

        // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ –∫—É–ª–¥–∞—É–Ω–∞
        function startCooldownTimer() {
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
            
            countdownInterval = setInterval(() => {
                if (!lastPlayTime) return;
                
                const now = new Date();
                const lastPlay = new Date(lastPlayTime);
                const diffMs = now - lastPlay;
                const diffMinutes = diffMs / (1000 * 60);
                const remainingMinutes = COOLDOWN_MINUTES - diffMinutes;
                
                if (remainingMinutes <= 0) {
                    // –ö—É–ª–¥–∞—É–Ω –∑–∞–∫–æ–Ω—á–∏–ª—Å—è
                    canPlay = true;
                    document.getElementById('rockBtn').disabled = false;
                    document.getElementById('paperBtn').disabled = false;
                    document.getElementById('scissorsBtn').disabled = false;
                    document.getElementById('timer').textContent = '–ú–æ–∂–Ω–æ –∏–≥—Ä–∞—Ç—å —Å–µ–π—á–∞—Å!';
                    clearInterval(countdownInterval);
                } else {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è
                    const minutes = Math.floor(remainingMinutes);
                    const seconds = Math.floor((remainingMinutes - minutes) * 60);
                    document.getElementById('timer').textContent = 
                        `–°–ª–µ–¥—É—é—â–∞—è –∏–≥—Ä–∞ —á–µ—Ä–µ–∑: ${minutes}:${seconds.toString().padStart(2, '0')}`;
                }
            }, 1000);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤ (—Å–∏–º—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤)
        function updateLeaderboard() {
            const leaderboardBody = document.getElementById('leaderboardBody');
            
            // –î–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—Ä–∞–ª–∏—Å—å –±—ã —Å —Å–µ—Ä–≤–µ—Ä–∞)
            const otherPlayers = [
                { name: "–ò–≥—Ä–æ–∫1", wins: 15, draws: 3, losses: 5, lastPlay: "2 –º–∏–Ω—É—Ç—ã –Ω–∞–∑–∞–¥" },
                { name: "–ü—Ä–æ_–ì–µ–π–º–µ—Ä", wins: 12, draws: 8, losses: 10, lastPlay: "15 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥" },
                { name: "–ù–æ–≤–∏—á–æ–∫", wins: 5, draws: 2, losses: 8, lastPlay: "1 —á–∞—Å –Ω–∞–∑–∞–¥" },
                { name: "–ß–µ–º–ø–∏–æ–Ω", wins: 25, draws: 4, losses: 6, lastPlay: "30 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥" },
                { name: "–£–¥–∞—á–∞", wins: 8, draws: 10, losses: 7, lastPlay: "45 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥" },
                { name: "–í–´", wins: wins, draws: draws, losses: losses, lastPlay: "—Ç–æ–ª—å–∫–æ —á—Ç–æ", isYou: true }
            ];
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ–±–µ–¥
            otherPlayers.sort((a, b) => b.wins - a.wins);
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–∞–±–ª–∏—Ü—É
            leaderboardBody.innerHTML = '';
            
            otherPlayers.forEach((player, index) => {
                const row = document.createElement('tr');
                if (player.isYou) {
                    row.className = 'player-you';
                }
                
                const lastPlayText = player.isYou ? 
                    (canPlay ? '—Ç–æ–ª—å–∫–æ —á—Ç–æ' : '–æ–∂–∏–¥–∞–Ω–∏–µ...') : 
                    player.lastPlay;
                
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${player.name}</td>
                    <td>${player.wins}</td>
                    <td>${player.draws}</td>
                    <td>${player.losses}</td>
                    <td>${lastPlayText}</td>
                `;
                
                leaderboardBody.appendChild(row);
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            initGame();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É –ª–∏–¥–µ—Ä–æ–≤ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            setInterval(updateLeaderboard, 30000);
        };

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onbeforeunload = function() {
            localStorage.setItem('rps_wins', wins);
            localStorage.setItem('rps_draws', draws);
            localStorage.setItem('rps_losses', losses);
        };
    </script>
</body>
</html>